import{_ as C,a as D,l as x,u as B,b as S,o as c,d as l,e as t,t as r,g as n,p as h,F as p,m as I,f,q as Y,s as F}from"./index-63IK8fsi.js";import{b as v}from"./boardApi-DbygHV1d.js";import{h as N}from"./moment-C5S46NFB.js";import"./index-D2_ZHuhr.js";const R=async o=>{try{const a=document.createElement("a");a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch(a){console.error(a)}},s=o=>(Y("data-v-6edc64d6"),o=o(),F(),o),V={class:"my-3 d-flex justify-content-between"},q=s(()=>t("i",{class:"fa-solid fa-user"},null,-1)),A=s(()=>t("i",{class:"fa-regular fa-clock"},null,-1)),E=s(()=>t("hr",null,null,-1)),H={key:0,class:"text-end"},L=["onClick"],M=s(()=>t("i",{class:"fa-solid fa-paperclip"},null,-1)),P={class:"content"},j={class:"my-5"},T=s(()=>t("i",{class:"fa-solid fa-list"},null,-1)),U=s(()=>t("i",{class:"fa-regular fa-pen-to-square"},null,-1)),$=s(()=>t("i",{class:"fa-solid fa-trash-can"},null,-1)),z={__name:"BoardDetailPage",setup(o){const a=D(),b=x(),d=B(),i=b.params.no,e=S({title:"",writer:"",updateDate:"",attaches:[],content:""}),y=()=>{d.push({name:"board/list"})},k=()=>{d.push({name:"board/update",params:{no:i}})},w=async()=>{confirm("삭제할까요?")&&(await v.delete(i),d.push({name:"board/list"}))},g=async _=>{const m="/api/board/download/"+_;await R(m)};return(async()=>{e.value=await v.get(i)})(),(_,m)=>(c(),l(p,null,[t("h1",null,r(e.value.title),1),t("div",V,[t("div",null,[q,n(" "+r(e.value.writer),1)]),t("div",null,[A,n(" "+r(h(N)(e.value.updateDate).format("YYYY-MM-DD HH:mm")),1)])]),E,e.value.attaches&&e.value.attaches.length>0?(c(),l("div",H,[(c(!0),l(p,null,I(e.value.attaches,u=>(c(),l("div",{key:u.no,class:"attach"},[t("span",{onClick:J=>g(u.no)},[M,n(" "+r(u.filename),1)],8,L)]))),128))])):f("",!0),t("div",P,r(e.value.content),1),t("div",j,[t("button",{class:"btn btn-primary me-2",onClick:y},[T,n(" 목록 ")]),h(a).username===e.value.writer?(c(),l(p,{key:0},[t("button",{class:"btn btn-primary me-2",onClick:k},[U,n(" 수정 ")]),t("button",{class:"btn btn-danger",onClick:w},[$,n(" 삭제 ")])],64)):f("",!0)])],64))}},X=C(z,[["__scopeId","data-v-6edc64d6"]]);export{X as default};
